{% extends "laporan_base.html" %}
{% block title %}{% endblock title %}

{% block content %}
<div class="container table-container">
    <h2 class="text-center">Laporan Nilai</h2>
    <p class="mb-0 mr-3"><strong>Nama Lengkap &nbsp&nbsp: </strong>{{request.user.full_name}}</p>
    <p class="mb-0 mr-3"><strong>Tanggal Lahir &nbsp&nbsp&nbsp&nbsp&nbsp: </strong>{{profile_obj.tanggal_lahir}}</p>
    <p class="mb-0 mr-3"><strong>Tempat Tinggal &nbsp: </strong>{{profile_obj.tempat_tinggal}}</p>
    <div class="d-flex justify-content-center align-items-center mb-3">
        <p class="mb-0 mr-3"><strong>Periode Ujian : </strong>{% if dari_tanggal %}{{dari_tanggal|date}}{% else %}Semua Waktu{% endif %} <strong>sd</strong> {% if sampai_tanggal %}{{sampai_tanggal|date}}{% else %}Semua Waktu{% endif %}</p>
        <p class="mb-0"><strong>Status Ujian : </strong>{{status|capfirst}}</p>
    </div>
    <table>
        <thead>
            <tr>
                <th>Level Study</th>
                <th>Kelas</th>
                <th>Mata Pelajaran</th>
                <th>Tanggal Ujian</th>
                <th>Nilai</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for nilai in nilai_siswa %}
            <tr>
                <td>{{ nilai.level_study }}</td>
                <td>{{ nilai.kelas }}</td>
                <td>{{ nilai.mata_pelajaran }}</td>
                <td>{{ nilai.tanggal_ujian }}</td>
                <td>{{ nilai.nilai }}</td>
                <td>{{ nilai.status }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6">Tidak ada data nilai siswa.</td>
            </tr>
            {% endfor %}
            <tr class=" font-weight-bold">
                <td colspan="4">Rata Rata</td>
                <td>{{ rata_rata|floatformat:0 }}</td>
            </tr>
            <tr class=" font-weight-bold">
                <td colspan="5">Jumlah Lulus</td>
                <td>{{ jumlah_lulus }}</td>
            </tr>
            <tr class=" font-weight-bold">
                <td colspan="5">Jumlah Tidak Lulus</td>
                <td>{{ jumlah_tidak_lulus }}</td>
            </tr>
        </tbody>
    </table>
</div>
{% endblock content %}
