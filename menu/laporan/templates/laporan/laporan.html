{% extends "menu_base.html" %}
{% load static %}
{% block title %}laporan{% endblock title %}
{% block style %}
<link rel="stylesheet" href="{% static "laporan/css/laporan.css" %}" />
{% endblock style %}
{% block content %}

<div class="container-xxl flex-grow-1 container-p-y">
    {% if messages %}
        {% for message in messages %}
        <div id="message" class="container" data-duration="4000">
            <div{% if message.tags %} class="text-center alert alert-{{ message.tags }}"{% endif %}>
                {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                <i class="fa-sharp fa-solid fa-triangle-exclamation"></i>
                {% endif %}
                {{ message }}
            </div>
        </div>
        {% endfor %}
    {% endif %}

    <h1 class="section-title mb-4">Laporan Output</h1>

    <div class="row g-4">
        {% if request.user.role == "admin" %}
        <div class="col-lg-4 col-md-6">
            <div class="card report-card bg-gradient-1">
                <div class="card-body">
                    <h3 class="card-title">Laporan Transaksi</h3>
                    <button type="button" class="btn btn-primary report-btn"
                            data-bs-toggle="modal" data-bs-target="#cetakTransaksi">
                        <i class="fas fa-print me-2"></i>
                        Cetak
                    </button>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6">
            <div class="card report-card bg-gradient-2">
                <div class="card-body">
                    <h3 class="card-title">Laporan Penggunaan Diskon</h3>
                    <button type="button" class="btn btn-primary report-btn"
                            data-bs-toggle="modal" data-bs-target="#cetakPenggunaanDiskon">
                        <i class="fas fa-print me-2"></i>
                        Cetak
                    </button>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6">
            <div class="card report-card bg-gradient-3">
                <div class="card-body">
                    <h3 class="card-title">Laporan Total Layanan Pembayaran</h3>
                    <button type="button" class="btn btn-primary report-btn"
                            data-bs-toggle="modal" data-bs-target="#cetakTotalLayananPembayaran">
                        <i class="fas fa-print me-2"></i>
                        Cetak
                    </button>
                </div>
            </div>
        </div>
        {% endif %}

        {% if request.user.role == "pemateri" or request.user.role == "admin" %}
        <div class="col-lg-4 col-md-6">
            <div class="card report-card bg-gradient-1">
                <div class="card-body">
                    <h3 class="card-title">Laporan Peserta Ujian Per Mata Pelajaran</h3>
                    <button type="button" class="btn btn-primary report-btn"
                            data-bs-toggle="modal" data-bs-target="#cetakUjianDiikuti">
                        <i class="fas fa-print me-2"></i>
                        Cetak
                    </button>
                </div>
            </div>
        </div>
        {% endif %}

        <div class="col-lg-4 col-md-6">
            <div class="card report-card bg-gradient-2">
                <div class="card-body">
                    <h3 class="card-title">Laporan Nilai</h3>
                    <button type="button" class="btn btn-primary report-btn"
                            data-bs-toggle="modal" data-bs-target="#cetakNilai">
                        <i class="fas fa-print me-2"></i>
                        Cetak
                    </button>
                </div>
            </div>
        </div>

        {% if request.user.role == "admin" %}
        <div class="col-lg-4 col-md-6">
            <div class="card report-card bg-gradient-3">
                <div class="card-body">
                    <h3 class="card-title">Laporan Testimoni</h3>
                    <button type="button" class="btn btn-primary report-btn"
                            data-bs-toggle="modal" data-bs-target="#cetakTestimoni">
                        <i class="fas fa-print me-2"></i>
                        Cetak
                    </button>
                </div>
            </div>
        </div>
        {% endif %}
    </div>

    {% include "includes/laporan/modals.html" %}
</div>
{% endblock content %}

{% block script %}
<script src="{% static "laporan/js/search-email.js" %}"></script>
<!-- Tambahkan Font Awesome jika belum ada -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
{% endblock script %}